<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</title>
  <style>
    :root {
      --bg: #f6f7fb;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #64748b;
      --primary: #2563eb;
      --accent: #06b6d4;
      --ring: #e2e8f0;
      --success: #16a34a;
      --warn: #f59e0b;
    }

    * {
      box-sizing: border-box
    }

    .menu {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
      margin: auto;
      width: 40%;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 14px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.05);
      padding: 18px;

    }

    a,
    button {
      text-decoration: none;
      background: #007bff;
      color: #fff;
      padding: 10px 25px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      font-size: 16px;
      width: 250px;
      transition: background 0.2s;
      display: inline-block;
    }

    a:hover,
    button:hover {
      background: #0056b3;
    }

    button.delete {
      background: #dc3545;
    }

    button.delete:hover {
      background: #b02a37;
    }

    /* Ø­ØªÙ‰ Ù„Ø§ ÙŠØ£Ø®Ø° Ø§Ù„ÙÙˆØ±Ù… Ù…Ø³Ø§Ø­Ø© Ø¥Ø¶Ø§ÙÙŠØ© */
    .menu form {
      margin: 0;
    }

    body {
      margin: 0;
      padding: 24px;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Kufi Arabic", "Tajawal", "Cairo", Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    header {
      margin-bottom: 20px
    }

    h1 {
      margin: 0 0 6px;
      font-size: 24px
    }

    .sub {
      color: var(--muted);
      font-size: 14px
    }

    .grid {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(12, 1fr);
    }

    /* Ø¨Ø·Ø§Ù‚Ø§Øª ØµØºÙŠØ±Ø© */
    .card {
      grid-column: span 12;
      background: var(--card);
      border: 1px solid var(--ring);
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 4px 16px rgba(2, 6, 23, .05);
    }

    .kpi {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .kpi .label {
      color: var(--muted);
      font-size: 13px
    }

    .kpi .value {
      font-weight: 700;
      font-size: 22px
    }

    .pill {
      font-size: 12px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #f1f5f9;
      color: var(--muted);
      border: 1px dashed var(--ring);
    }

    /* ØªÙ‚Ø¯Ù… */
    .progress {
      margin-top: 10px;
      height: 10px;
      width: 100%;
      background: #eef2ff;
      border-radius: 999px;
      overflow: hidden;
      border: 1px solid #e5e7eb;
    }

    .bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      transition: width .5s ease;
    }

    /* ØªØ®Ø·ÙŠØ· Ø±ÙŠØ³Ø¨ÙˆÙ†Ø³Ù */
    @media (min-width:520px) {
      .span-6 {
        grid-column: span 6
      }

      .span-4 {
        grid-column: span 6
      }
    }

    @media (min-width:900px) {
      .span-6 {
        grid-column: span 6
      }

      .span-4 {
        grid-column: span 4
      }
    }

    /* ØµÙ ØªÙ„Ø®ÙŠØµÙŠ ÙƒØ¨ÙŠØ± Ù„Ù„ÙƒÙ…ÙŠØ© */
    .row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .chunk {
      flex: 1 1 220px;
      background: #f8fafc;
      border: 1px dashed var(--ring);
      border-radius: 12px;
      padding: 12px;
    }

    .chunk .title {
      font-size: 13px;
      color: var(--muted)
    }

    .chunk .num {
      font-size: 20px;
      font-weight: 700
    }

    .ok {
      color: var(--success)
    }

    .warn {
      color: var(--warn)
    }
  </style>
</head>

<body>
  <div class="menu">
    <!-- Ø±ÙˆØ§Ø¨Ø· GET ØªØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡ÙŠ -->
    <a href="/uploadData">ğŸ“¤ Ø±ÙØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</a>
    <a href="/allData">ğŸ“‹ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</a>

    <!-- POST: Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„ -->
    <form action="/export" method="post" onsubmit="return confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ')">
      <button type="submit">ğŸ“‹ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
    </form>

    <!-- POST: Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„ -->
    <form action="/createTable" method="post" onsubmit="return confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„ØŸ')">
      <button type="submit">ğŸ“‹ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„</button>
    </form>

    <!-- POST: Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙÙˆÙ -->
    <form action="/deleteAll" method="post" onsubmit="return confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ')">
      <button type="submit" class="delete">ğŸ§¹ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
    </form>

    <!-- POST: Ø­Ø°Ù Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ -->
    <form action="/drop" method="post" onsubmit="return confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ØŸ')">
      <button type="submit" class="delete">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø¬Ø¯ÙˆÙ„</button>
    </form>
  </div>


  <section class="grid">
    <!-- KPIs Ø£Ø³Ø§Ø³ÙŠØ© -->
    <div class="card span-4">
      <div class="kpi">
        <div>
          <div class="label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†</div>
          <div class="value" id="totalBeneficiaries">
            <%= data.total_beneficiaries %>
          </div>
        </div>
        <span class="pill">Beneficiaries</span>
      </div>
    </div>

    <div class="card span-4">
      <div class="kpi">
        <div>
          <div class="label">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ†</div>
          <div class="value" id="receivedCount">
            <%= data.received_count %>
          </div>
        </div>
        <span class="pill ok">Received</span>
      </div>
      <div class="progress">
        <div class="bar" id="receivedPctBar" style="width: <%= data.received_count/data.total_beneficiaries*100 %>%">
        </div>
      </div>
      <div class="sub" id="receivedPctText">
        <%= Number(data.received_count/data.total_beneficiaries*100).toFixed(1) %>%
      </div>
    </div>

    <div class="card span-4">
      <div class="kpi">
        <div>
          <div class="label">Ø§Ù„Ù…ØªØ¨Ù‚Ù‘ÙŠ Ù…Ù† Ø§Ù„Ù…Ø³ØªÙÙŠØ¯ÙŠÙ†</div>
          <div class="value" id="pendingCount">
            <%= data.pending_count %>
          </div>
        </div>
        <span class="pill warn">Pending</span>
      </div>
    </div>

    <!-- Ù…Ù„Ø®Øµ Ø§Ù„ÙƒÙ…ÙŠØ§Øª -->
    <div class="card span-12">
      <div class="kpi" style="margin-bottom:8px">
        <div>
          <div class="label">Ù…Ù„Ø®Øµ Ø§Ù„ÙƒÙ…ÙŠØ§Øª</div>
          <div class="value">Ø¥Ø¬Ù…Ø§Ù„ÙŠ / Ø§Ù„Ù…Ø³ØªÙ„Ù… / Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</div>
        </div>
      </div>
      <div class="row">
        <div class="chunk">
          <div class="title">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ…ÙŠØ©</div>
          <div class="num" id="totalQty">
            <%= data.total_qty %>
          </div>
        </div>
        <div class="chunk">
          <div class="title">Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©</div>
          <div class="num ok" id="receivedQty">
            <%= data.received_qty %>
          </div>
        </div>
        <div class="chunk">
          <div class="title">Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©</div>
          <div class="num warn" id="remainingQty">
            <%= data.remaining_qty %>
          </div>
        </div>
      </div>
      <div class="progress" style="margin-top:14px">
        <div class="bar" id="qtyPctBar" style="width: <%= data.received_qty/data.total_qty*100 %>%"></div>
      </div>
      <div class="sub" id="qtyPctText" style="margin-top:6px">
        <%= Number(data.received_qty/data.total_qty*100).toFixed(1) %>%
      </div>
    </div>


  </section>

</body>

</html>